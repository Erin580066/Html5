<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<style type="text/css">
	body{background:#000;margin:0;}
	#box{background:#fff;width:600px;margin:0 auto;}
</style>
</head>
<body>
	<div id="box">
		<canvas id="c1" width="600" height="600"></canvas>
	</div>
	<script>
		var oC = document.getElementById("c1");
		var oGC = oC.getContext('2d');
		var i = 0;
//		外面大圆
//		oGC.beginPath();
//		oGC.arc(300,200,200,-90*Math.PI/180,180*Math.PI/180,false)
//		oGC.stroke();
//		
//		oGC.beginPath();
//		oGC.arc(250,200,150,180*Math.PI/180,360*Math.PI/180,false)
//		oGC.stroke();
//		
//		oGC.beginPath();
//		oGC.arc(400,200,20,0,360*Math.PI/180,false)
//		oGC.stroke();
		
		setInterval(function(){
			oGC.clearRect(0,0,oC.width,oC.height);
			oGC.beginPath();
			oGC.arc(300,200,200,-90*Math.PI/180,180*Math.PI/180,false)
			oGC.stroke();
			
			oGC.beginPath();
			oGC.arc(250,200,150,180*Math.PI/180,360*Math.PI/180,false)
			oGC.stroke();
			
			oGC.beginPath();
			oGC.arc(400,200,20,0,360*Math.PI/180,false)
			oGC.stroke();
			for (var i = 0; i < ball.length; i++) {
				oGC.beginPath();
				oGC.moveTo(ball[i].x,ball[i].y)
				oGC.arc(ball[i].x,ball[i].y,20,0,360*Math.PI/180,false)
				oGC.fill();
			}
		},1000/60);
		setInterval(function(){
			for (var i = 0; i < ball.length; i++) {
				ball[i].num++;
				if(ball[i].num == 270){
					ball[i].r = 150;
					ball[i].startX = 250;
					ball[i].startY = 50;
				}
				if(ball[i].num == 270 + 180){
					alert('game over')
					window.location.reload()
				}
				ball[i].x = Math.sin(ball[i].num*Math.PI/180)*ball[i].r + ball[i].startX;
				ball[i].y = ball[i].r-Math.cos(ball[i].num*Math.PI/180)*ball[i].r + ball[i].startY;
			}
		},30)
//		在起始点生成一个圆
		var ball = [];
		setInterval(function(){
			ball.push({
				x : 300,
				y : 0,
				r : 200,
				num : 0,
				startX : 300,
				startY : 0
			})
		},500)
	</script>
</body>
</html>
